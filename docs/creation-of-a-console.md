---
title: Erstellung einer Konsole
description: Das System erstellt eine neue Konsole, wenn ein Konsolen Prozess gestartet wird. dabei handelt es sich um einen Zeichenmodus, dessen Einstiegspunkt die Hauptfunktion ist.
author: miniksa
ms.author: miniksa
ms.topic: conceptual
keywords: Konsole, Zeichenmodusanwendungen, Befehlszeilenanwendungen, Terminalanwendungen, Konsolen-API
MS-HAID:
- '\_win32\_creation\_of\_a\_console'
- base.creation\_of\_a\_console
- consoles.creation\_of\_a\_console
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 84ec2559-cade-447e-8594-5b824d3d3e81
ms.openlocfilehash: 78a77044452fe2287a7cea0bfe5a6542eceef337
ms.sourcegitcommit: 463975e71920908a6bff9a6a7291ddf3736652d5
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/30/2020
ms.locfileid: "93038238"
---
# <a name="creation-of-a-console"></a><span data-ttu-id="c275e-104">Erstellung einer Konsole</span><span class="sxs-lookup"><span data-stu-id="c275e-104">Creation of a Console</span></span>

<span data-ttu-id="c275e-105">Das System erstellt eine neue Konsole, wenn ein *Konsolen Prozess* gestartet wird. dabei handelt es sich um einen Zeichenmodus, dessen Einstiegspunkt die **Haupt** Funktion ist.</span><span class="sxs-lookup"><span data-stu-id="c275e-105">The system creates a new console when it starts a *console process* , a character-mode process whose entry point is the **main** function.</span></span> <span data-ttu-id="c275e-106">Das System erstellt beispielsweise eine neue Konsole, wenn der Befehlsprozessor gestartet wird `cmd.exe` .</span><span class="sxs-lookup"><span data-stu-id="c275e-106">For example, the system creates a new console when it starts the command processor `cmd.exe`.</span></span> <span data-ttu-id="c275e-107">Wenn der Befehlsprozessor einen neuen Konsolen Prozess startet, kann der Benutzer angeben, ob das System eine neue Konsole für den neuen Prozess erstellt oder ob er die Konsole des Befehls Prozessors erbt.</span><span class="sxs-lookup"><span data-stu-id="c275e-107">When the command processor starts a new console process, the user can specify whether the system creates a new console for the new process or whether it inherits the command processor's console.</span></span>

<span data-ttu-id="c275e-108">Ein Prozess kann eine-Konsole mithilfe einer der folgenden Methoden erstellen:</span><span class="sxs-lookup"><span data-stu-id="c275e-108">A process can create a console by using one of the following methods:</span></span>

- <span data-ttu-id="c275e-109">Eine grafische Benutzeroberfläche (GUI) oder ein Konsolen Prozess kann mithilfe [**der Funktion**](https://msdn.microsoft.com/library/windows/desktop/ms682425) "Funktion erstellen" und " **\_ neue \_ Konsole erstellen** " einen Konsolen Prozess mit einer neuen Konsole erstellen.</span><span class="sxs-lookup"><span data-stu-id="c275e-109">A graphical user interface (GUI) or console process can use the [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425) function with **CREATE\_NEW\_CONSOLE** to create a console process with a new console.</span></span> <span data-ttu-id="c275e-110">(Standardmäßig erbt ein Konsolen Prozess seine übergeordnete Konsole, und es gibt keine Garantie dafür, dass der Prozess, für den er vorgesehen war, Eingaben empfängt.)</span><span class="sxs-lookup"><span data-stu-id="c275e-110">(By default, a console process inherits its parent's console, and there is no guarantee that input is received by the process for which it was intended.)</span></span>
- <span data-ttu-id="c275e-111">Ein GUI-oder Konsolen Prozess, der zurzeit nicht an eine Konsole angefügt ist, kann die Funktion " [**Zuweisung**](allocconsole.md) " verwenden, um eine neue Konsole zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c275e-111">A GUI or console process that is not currently attached to a console can use the [**AllocConsole**](allocconsole.md) function to create a new console.</span></span> <span data-ttu-id="c275e-112">(GUI-Prozesse werden nicht an eine Konsole angefügt, wenn Sie erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="c275e-112">(GUI processes are not attached to a console when they are created.</span></span> <span data-ttu-id="c275e-113">Konsolen Prozesse werden nicht an eine Konsole angefügt, wenn [**Sie mithilfe von**](https://msdn.microsoft.com/library/windows/desktop/ms682425) "erstellter Prozess" mit einem getrennten **\_ Prozess** erstellt werden.)</span><span class="sxs-lookup"><span data-stu-id="c275e-113">Console processes are not attached to a console if they are created using [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425) with **DETACHED\_PROCESS** .)</span></span>

<span data-ttu-id="c275e-114">In der Regel wird von einem Prozess mithilfe von " [**zuordcconsole**](allocconsole.md) " eine-Konsole erstellt, wenn ein Fehler bei der Interaktion mit dem Benutzer auftritt</span><span class="sxs-lookup"><span data-stu-id="c275e-114">Typically, a process uses [**AllocConsole**](allocconsole.md) to create a console when an error occurs requiring interaction with the user.</span></span> <span data-ttu-id="c275e-115">Beispielsweise kann ein GUI-Prozess eine-Konsole erstellen, wenn ein Fehler auftritt, der verhindert, dass die normale grafische Oberfläche verwendet wird, oder ein Konsolen Prozess, der normalerweise nicht mit dem Benutzer interagiert, kann eine-Konsole erstellen, um einen Fehler anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="c275e-115">For example, a GUI process can create a console when an error occurs that prevents it from using its normal graphical interface, or a console process that does not normally interact with the user can create a console to display an error.</span></span>

<span data-ttu-id="c275e-116">Ein Prozess kann auch eine-Konsole erstellen, indem Sie das Flag **Create \_ New \_ Console** in einem Aufrufen von "Create- [**Process**](https://msdn.microsoft.com/library/windows/desktop/ms682425)" angeben.</span><span class="sxs-lookup"><span data-stu-id="c275e-116">A process can also create a console by specifying the **CREATE\_NEW\_CONSOLE** flag in a call to [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425).</span></span> <span data-ttu-id="c275e-117">Diese Methode erstellt eine neue Konsole, die für den untergeordneten Prozess, jedoch nicht für den übergeordneten Prozess zugänglich ist.</span><span class="sxs-lookup"><span data-stu-id="c275e-117">This method creates a new console that is accessible to the child process but not to the parent process.</span></span> <span data-ttu-id="c275e-118">Getrennte Konsolen ermöglichen es, dass sowohl übergeordnete als auch untergeordnete Prozesse ohne Konflikt mit dem Benutzer interagieren können.</span><span class="sxs-lookup"><span data-stu-id="c275e-118">Separate consoles enable both parent and child processes to interact with the user without conflict.</span></span> <span data-ttu-id="c275e-119">Wenn dieses Flag nicht angegeben wird, wenn ein Konsolen Prozess erstellt wird, werden beide Prozesse an dieselbe Konsole angefügt, und es gibt keine Garantie dafür, dass der richtige Prozess die gewünschte Eingabe empfängt.</span><span class="sxs-lookup"><span data-stu-id="c275e-119">If this flag is not specified when a console process is created, both processes are attached to the same console, and there is no guarantee that the correct process will receive the input intended for it.</span></span> <span data-ttu-id="c275e-120">Anwendungen können Verwirrung vermeiden, indem Sie untergeordnete Prozesse erstellen, die keine Handles des Eingabe Puffers erben, oder indem Sie jeweils nur einen untergeordneten Prozess zum Erben eines Eingabepuffer Handles aktivieren und gleichzeitig verhindern, dass der übergeordnete Prozess Konsolen Eingaben liest, bis das untergeordnete Element beendet ist.</span><span class="sxs-lookup"><span data-stu-id="c275e-120">Applications can prevent confusion by creating child processes that do not inherit handles of the input buffer, or by enabling only one child process at a time to inherit an input buffer handle while preventing the parent process from reading console input until the child has finished.</span></span>

<span data-ttu-id="c275e-121">Das Erstellen einer neuen Konsole führt zu einem neuen Konsolenfenster sowie zu separaten e/a-Bildschirm Puffern.</span><span class="sxs-lookup"><span data-stu-id="c275e-121">Creating a new console results in a new console window, as well as separate I/O screen buffers.</span></span> <span data-ttu-id="c275e-122">Der Prozess, der der neuen Konsole zugeordnet ist, verwendet die [**getstdhandle**](getstdhandle.md) -Funktion, um die Handles der Eingabe-und Bildschirm Puffer der neuen Konsole zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="c275e-122">The process associated with the new console uses the [**GetStdHandle**](getstdhandle.md) function to get the handles of the new console's input and screen buffers.</span></span> <span data-ttu-id="c275e-123">Diese Handles ermöglichen dem Prozess den Zugriff auf die Konsole.</span><span class="sxs-lookup"><span data-stu-id="c275e-123">These handles enable the process to access the console.</span></span>

<span data-ttu-id="c275e-124">Wenn ein Prozess " [**kreateprocess**](https://msdn.microsoft.com/library/windows/desktop/ms682425)" verwendet, kann er eine [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) -Struktur angeben, deren Member die Merkmale der ersten neuen Konsole (sofern vorhanden) steuern, die für den untergeordneten Prozess erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="c275e-124">When a process uses [**CreateProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682425), it can specify a [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) structure, whose members control the characteristics of the first new console (if any) created for the child process.</span></span> <span data-ttu-id="c275e-125">Die im aufgerufene aufgerufene **STARTUPINFO** -Struktur **hat Auswirkungen auf** eine Konsole, die erstellt wird, wenn das Flag **Create \_ New \_ Console** angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="c275e-125">The **STARTUPINFO** structure specified in the call to **CreateProcess** affects a console created if the **CREATE\_NEW\_CONSOLE** flag is specified.</span></span> <span data-ttu-id="c275e-126">Er wirkt sich auch auf eine [**-Konsole aus**](allocconsole.md), die erstellt wird, wenn der untergeordnete Prozess anschließend "" "</span><span class="sxs-lookup"><span data-stu-id="c275e-126">It also affects a console created if the child process subsequently uses [**AllocConsole**](allocconsole.md).</span></span> <span data-ttu-id="c275e-127">Die folgenden Konsolen Eigenschaften können angegeben werden:</span><span class="sxs-lookup"><span data-stu-id="c275e-127">The following console characteristics can be specified:</span></span>

- <span data-ttu-id="c275e-128">Größe des neuen Konsolenfensters in Zeichen Zellen</span><span class="sxs-lookup"><span data-stu-id="c275e-128">Size of the new console window, in character cells</span></span>
- <span data-ttu-id="c275e-129">Speicherort des neuen Konsolenfensters in Bildschirm Koordinaten</span><span class="sxs-lookup"><span data-stu-id="c275e-129">Location of the new console window, in screen pixel coordinates</span></span>
- <span data-ttu-id="c275e-130">Größe des Bildschirm Puffers der neuen Konsole in Zeichen Zellen</span><span class="sxs-lookup"><span data-stu-id="c275e-130">Size of the new console's screen buffer, in character cells</span></span>
- <span data-ttu-id="c275e-131">Attribute für Text-und Hintergrundfarben des Bildschirm Puffers der neuen Konsole</span><span class="sxs-lookup"><span data-stu-id="c275e-131">Text and background color attributes of the new console's screen buffer</span></span>
- <span data-ttu-id="c275e-132">Anzeige Name für die Titelleiste des Fensters der neuen Konsole</span><span class="sxs-lookup"><span data-stu-id="c275e-132">Display name for the title bar of the new console's window</span></span>

<span data-ttu-id="c275e-133">Das System verwendet Standardwerte, wenn die [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) -Werte nicht angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="c275e-133">The system uses default values if the [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) values are not specified.</span></span> <span data-ttu-id="c275e-134">Ein untergeordneter Prozess kann die [**getstartupinfo**](https://msdn.microsoft.com/library/windows/desktop/ms683230) -Funktion verwenden, um die Werte in seiner **STARTUPINFO** -Struktur zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="c275e-134">A child process can use the [**GetStartupInfo**](https://msdn.microsoft.com/library/windows/desktop/ms683230) function to determine the values in its **STARTUPINFO** structure.</span></span>

<span data-ttu-id="c275e-135">Ein Prozess kann den Speicherort seines Konsolenfensters auf dem Bildschirm nicht ändern, aber die folgenden Konsolenfunktionen sind verfügbar, um die anderen Eigenschaften, die in der [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) -Struktur angegeben sind, festzulegen oder abzurufen.</span><span class="sxs-lookup"><span data-stu-id="c275e-135">A process cannot change the location of its console window on the screen, but the following console functions are available to set or retrieve the other properties specified in the [**STARTUPINFO**](https://msdn.microsoft.com/library/windows/desktop/ms686331) structure.</span></span>

| <span data-ttu-id="c275e-136">Funktion</span><span class="sxs-lookup"><span data-stu-id="c275e-136">Function</span></span> | <span data-ttu-id="c275e-137">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="c275e-137">Description</span></span> |
|-|-|
| [<span data-ttu-id="c275e-138">**GetConsoleScreenBufferInfo**</span><span class="sxs-lookup"><span data-stu-id="c275e-138">**GetConsoleScreenBufferInfo**</span></span>](getconsolescreenbufferinfo.md) | <span data-ttu-id="c275e-139">Ruft die Fenstergröße, die Bildschirm Puffergröße und die Farb Attribute ab.</span><span class="sxs-lookup"><span data-stu-id="c275e-139">Retrieves the window size, screen buffer size, and color attributes.</span></span> |
| [<span data-ttu-id="c275e-140">**SetConsoleWindowInfo**</span><span class="sxs-lookup"><span data-stu-id="c275e-140">**SetConsoleWindowInfo**</span></span>](setconsolewindowinfo.md)  | <span data-ttu-id="c275e-141">Ändert die Größe des Konsolenfensters.</span><span class="sxs-lookup"><span data-stu-id="c275e-141">Changes the size of the console window.</span></span>  |
| [<span data-ttu-id="c275e-142">**SetConsoleScreenBufferSize**</span><span class="sxs-lookup"><span data-stu-id="c275e-142">**SetConsoleScreenBufferSize**</span></span>](setconsolescreenbuffersize.md) | <span data-ttu-id="c275e-143">Ändert die Größe des Bildschirm Puffers der Konsole.</span><span class="sxs-lookup"><span data-stu-id="c275e-143">Changes the size of the console screen buffer.</span></span> |
| [<span data-ttu-id="c275e-144">**SetConsoleTextAttribute**</span><span class="sxs-lookup"><span data-stu-id="c275e-144">**SetConsoleTextAttribute**</span></span>](setconsoletextattribute.md) | <span data-ttu-id="c275e-145">Legt die Farb Attribute fest.</span><span class="sxs-lookup"><span data-stu-id="c275e-145">Sets the color attributes.</span></span>  |
| [<span data-ttu-id="c275e-146">**SetConsoleTitle**</span><span class="sxs-lookup"><span data-stu-id="c275e-146">**SetConsoleTitle**</span></span>](setconsoletitle.md)  | <span data-ttu-id="c275e-147">Legt den Titel des Konsolenfensters fest.</span><span class="sxs-lookup"><span data-stu-id="c275e-147">Sets the console window title.</span></span> |
| [<span data-ttu-id="c275e-148">**GetConsoleTitle**</span><span class="sxs-lookup"><span data-stu-id="c275e-148">**GetConsoleTitle**</span></span>](getconsoletitle.md)  | <span data-ttu-id="c275e-149">Ruft den Titel des Konsolenfensters ab.</span><span class="sxs-lookup"><span data-stu-id="c275e-149">Retrieves the console window title.</span></span>  |

<span data-ttu-id="c275e-150">Ein Prozess kann die [**freeconsole**](freeconsole.md) -Funktion verwenden, um sich selbst von einer geerbten Konsole oder von einer von " [**Zuweisung-Konsole**](allocconsole.md)" erstellten Konsole zu trennen.</span><span class="sxs-lookup"><span data-stu-id="c275e-150">A process can use the [**FreeConsole**](freeconsole.md) function to detach itself from an inherited console or from a console created by [**AllocConsole**](allocconsole.md).</span></span>

<span data-ttu-id="c275e-151">Ein Prozess kann die [**attachconsole**](attachconsole.md) -Funktion verwenden, um sich an eine andere vorhandene Konsolen Sitzung anzufügen, nachdem [**freeconsole**](freeconsole.md) zum Trennen von der eigenen Sitzung verwendet wurde (oder wenn andernfalls keine angefügte Sitzung vorhanden ist).</span><span class="sxs-lookup"><span data-stu-id="c275e-151">A process can use the [**AttachConsole**](attachconsole.md) function to attach itself to another existing console session after using [**FreeConsole**](freeconsole.md) to detach from its own session (or if there is otherwise no attached session).</span></span>
