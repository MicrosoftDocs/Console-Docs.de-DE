---
title: High-Level Konsolen-Eingabe-und-Ausgabefunktionen
description: Die Funktionen "Infofile" und "Write file" bzw. die Funktionen "Read Console" und "Write Console" ermöglichen einer Anwendung das Lesen von Konsolen Eingaben und das Schreiben der Konsolenausgabe als Zeichendaten Strom.
author: miniksa
ms.author: miniksa
ms.topic: conceptual
keywords: Konsole, Zeichenmodusanwendungen, Befehlszeilenanwendungen, Terminalanwendungen, Konsolen-API
MS-HAID:
- '\_win32\_high\_level\_console\_input\_and\_output\_functions'
- base.high\_level\_console\_input\_and\_output\_functions
- consoles.high\_level\_console\_input\_and\_output\_functions
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 086b1bec-85f8-4e31-848d-7cb2d2703a3d
ms.openlocfilehash: 4da8845e4e35170980d306930c182ff6e5fb6cbf
ms.sourcegitcommit: 281eb1469f77ae4fb4c67806898e14eac440522a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/14/2021
ms.locfileid: "100358300"
---
# <a name="high-level-console-input-and-output-functions"></a><span data-ttu-id="3422c-104">High-Level Konsolen-Eingabe-und-Ausgabefunktionen</span><span class="sxs-lookup"><span data-stu-id="3422c-104">High-Level Console Input and Output Functions</span></span>

<span data-ttu-id="3422c-105">Die Funktionen " [**Infofile**](/windows/win32/api/fileapi/nf-fileapi-readfile) " und " [**Write File**](/windows/win32/api/fileapi/nf-fileapi-writefile) " bzw. die Funktionen "read [**Console**](readconsole.md) " und "Write [**Console**](writeconsole.md) " ermöglichen einer Anwendung das Lesen von Konsolen Eingaben und das Schreiben der Konsolenausgabe als Zeichendaten Strom.</span><span class="sxs-lookup"><span data-stu-id="3422c-105">The [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) functions, or the [**ReadConsole**](readconsole.md) and [**WriteConsole**](writeconsole.md) functions, enable an application to read console input and write console output as a stream of characters.</span></span> <span data-ttu-id="3422c-106">"Read **Console** " und " **Write-Console** " Verhalten sich genau wie "read **File** " und " **Write File** ", mit dem Unterschied, dass Sie entweder als breit Zeichenfunktionen (in denen Textargumente Unicode verwenden müssen) oder als ANSI-Funktionen verwendet werden können (in denen Textargumente Zeichen aus dem Windows-Zeichensatz verwenden müssen).</span><span class="sxs-lookup"><span data-stu-id="3422c-106">**ReadConsole** and **WriteConsole** behave exactly like **ReadFile** and **WriteFile** except that they can be used either as wide-character functions (in which text arguments must use Unicode) or as ANSI functions (in which text arguments must use characters from the Windows character set).</span></span> <span data-ttu-id="3422c-107">Anwendungen, die einen einzelnen Satz von Quellen zur Unterstützung von Unicode oder ANSI-Zeichensatz verwalten müssen, sollten die Dateien "read **Console** " und " **Write-Console**" verwenden.</span><span class="sxs-lookup"><span data-stu-id="3422c-107">Applications that need to maintain a single set of sources to support either Unicode or the ANSI character set should use **ReadConsole** and **WriteConsole**.</span></span>

<span data-ttu-id="3422c-108">"Read [**Console**](readconsole.md) " und " [**Write-Console**](writeconsole.md) " können nur mit Konsolen Handles verwendet werden. " [**Infofile**](/windows/win32/api/fileapi/nf-fileapi-readfile) " und " [**Write File**](/windows/win32/api/fileapi/nf-fileapi-writefile) " können mit anderen Handles (z. b. Dateien oder Pipes) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3422c-108">[**ReadConsole**](readconsole.md) and [**WriteConsole**](writeconsole.md) can only be used with console handles; [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) can be used with other handles (such as files or pipes).</span></span> <span data-ttu-id="3422c-109">Bei Verwendung mit einem Standard handle, das umgeleitet und kein Konsolen handle mehr ist, tritt bei der Verwendung von "read **Console** " und " **Write-Console** " ein Fehler auf</span><span class="sxs-lookup"><span data-stu-id="3422c-109">**ReadConsole** and **WriteConsole** fail if used with a standard handle that has been redirected and is no longer a console handle.</span></span>

<span data-ttu-id="3422c-110">Um Tastatureingaben zu erhalten, kann ein Prozess " [**Infofile**](/windows/win32/api/fileapi/nf-fileapi-readfile) " oder " [**infoconsole**](readconsole.md) " mit einem Handle für den Eingabepuffer der Konsole verwenden, oder er kann mithilfe von " **Infofile** " Eingaben aus einer Datei oder einer Pipe lesen, wenn `STDIN` umgeleitet wurde.</span><span class="sxs-lookup"><span data-stu-id="3422c-110">To get keyboard input, a process can use [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) or [**ReadConsole**](readconsole.md) with a handle to the console's input buffer, or it can use **ReadFile** to read input from a file or a pipe if `STDIN` has been redirected.</span></span> <span data-ttu-id="3422c-111">Diese Funktionen geben nur Tastatur Ereignisse zurück, die in ANSI-oder Unicode-Zeichen übersetzt werden können.</span><span class="sxs-lookup"><span data-stu-id="3422c-111">These functions only return keyboard events that can be translated into ANSI or Unicode characters.</span></span> <span data-ttu-id="3422c-112">Zu den Eingaben, die zurückgegeben werden können, gehören Tastenkombinationen.</span><span class="sxs-lookup"><span data-stu-id="3422c-112">The input that can be returned includes control key combinations.</span></span> <span data-ttu-id="3422c-113">Die Funktionen geben keine Tastatur Ereignisse zurück, die die Funktionstasten oder Pfeiltasten betreffen.</span><span class="sxs-lookup"><span data-stu-id="3422c-113">The functions do not return keyboard events involving the function keys or arrow keys.</span></span> <span data-ttu-id="3422c-114">Eingabeereignisse, die von Maus, Fenster, Fokus oder menüeingabe generiert werden, werden verworfen.</span><span class="sxs-lookup"><span data-stu-id="3422c-114">Input events generated by mouse, window, focus, or menu input are discarded.</span></span>

<span data-ttu-id="3422c-115">Wenn der Zeilen Eingabemodus aktiviert ist (der Standardmodus), werden die [**Dateien**](/windows/win32/api/fileapi/nf-fileapi-readfile) und die [**infoconsole**](readconsole.md) nicht an die aufrufende Anwendung zurückgegeben, bis die EINGABETASTE gedrückt wird.</span><span class="sxs-lookup"><span data-stu-id="3422c-115">If line input mode is enabled (the default mode), [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) and [**ReadConsole**](readconsole.md) do not return to the calling application until the ENTER key is pressed.</span></span> <span data-ttu-id="3422c-116">Wenn der Zeilen Eingabemodus deaktiviert ist, werden die Funktionen erst zurückgegeben, wenn mindestens ein Zeichen verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="3422c-116">If line input mode is disabled, the functions do not return until at least one character is available.</span></span> <span data-ttu-id="3422c-117">In beiden Modi werden alle verfügbaren Zeichen gelesen, bis entweder keine weiteren Schlüssel verfügbar sind oder die angegebene Anzahl von Zeichen gelesen wurde.</span><span class="sxs-lookup"><span data-stu-id="3422c-117">In either mode, all available characters are read until either no more keys are available or the specified number of characters has been read.</span></span> <span data-ttu-id="3422c-118">Ungelesene Zeichen werden bis zum nächsten Lesevorgang gepuffert.</span><span class="sxs-lookup"><span data-stu-id="3422c-118">Unread characters are buffered until the next read operation.</span></span> <span data-ttu-id="3422c-119">Die Funktionen melden die Gesamtzahl der tatsächlich gelesenen Zeichen.</span><span class="sxs-lookup"><span data-stu-id="3422c-119">The functions report the total number of characters actually read.</span></span> <span data-ttu-id="3422c-120">Wenn der Echo-Eingabemodus aktiviert ist, werden von diesen Funktionen gelesene Zeichen an der aktuellen Cursorposition in den aktiven Bildschirm Puffer geschrieben.</span><span class="sxs-lookup"><span data-stu-id="3422c-120">If echo input mode is enabled, characters read by these functions are written to the active screen buffer at the current cursor position.</span></span>

<span data-ttu-id="3422c-121">Ein Prozess kann mithilfe von "Write [**File**](/windows/win32/api/fileapi/nf-fileapi-writefile) " oder "Write- **Console** " entweder in einen aktiven oder inaktiven Bildschirm Puffer schreiben, oder es kann "Write **File** " verwenden, um in eine Datei oder eine Pipe zu schreiben, wenn "stdout" umgeleitet wurde.</span><span class="sxs-lookup"><span data-stu-id="3422c-121">A process can use [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) or **WriteConsole** to write to either an active or inactive screen buffer, or it can use **WriteFile** to write to a file or a pipe if STDOUT has been redirected.</span></span> <span data-ttu-id="3422c-122">Verarbeiteter Ausgabemodus und Umbruch bei EOL-Ausgabemodus Steuern der Art und Weise, wie Zeichen in einen Bildschirm Puffer geschrieben oder wiederholt werden.</span><span class="sxs-lookup"><span data-stu-id="3422c-122">Processed output mode and wrap at EOL output mode control the way characters are written or echoed to a screen buffer.</span></span>

<span data-ttu-id="3422c-123">Von " [**Write File**](/windows/win32/api/fileapi/nf-fileapi-writefile) " oder " [**Write Console**](writeconsole.md)" geschriebene Zeichen, die von "read [**File**](/windows/win32/api/fileapi/nf-fileapi-readfile) " oder " [**infoconsole**](readconsole.md)" zurückgegeben werden, werden an der aktuellen Cursorposition in einen Bildschirm Puffer eingefügt.</span><span class="sxs-lookup"><span data-stu-id="3422c-123">Characters written by [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile) or [**WriteConsole**](writeconsole.md), or echoed by [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) or [**ReadConsole**](readconsole.md), are inserted in a screen buffer at the current cursor position.</span></span> <span data-ttu-id="3422c-124">Beim Schreiben jedes Zeichens wechselt die Cursorposition zur nächsten Zeichen Zelle. das Verhalten am Ende einer Zeile hängt jedoch vom Umbruch des Konsolenbildschirm Puffers im EOL-Ausgabemodus ab.</span><span class="sxs-lookup"><span data-stu-id="3422c-124">As each character is written, the cursor position advances to the next character cell; however, the behavior at the end of a row depends on the console screen buffer's wrap at EOL output mode.</span></span>

<span data-ttu-id="3422c-125">Weitere Details zur Position des Cursors finden Sie über **[virtuelle terminalsequenzen](console-virtual-terminal-sequences.md)**, insbesondere in der **[Abfrage Zustands](console-virtual-terminal-sequences.md#query-state)** Kategorie zum Suchen der aktuellen Position und der **[Cursor Positionierungs](console-virtual-terminal-sequences.md#cursor-positioning)** Kategorie zum Festlegen der aktuellen Position.</span><span class="sxs-lookup"><span data-stu-id="3422c-125">Further detail about the position of the cursor can be found through **[virtual terminals sequences](console-virtual-terminal-sequences.md)**, specifically in the **[query state](console-virtual-terminal-sequences.md#query-state)** category for finding the current position and the **[cursor positioning](console-virtual-terminal-sequences.md#cursor-positioning)** category for setting the current position.</span></span> <span data-ttu-id="3422c-126">Alternativ kann eine Anwendung die [**getconsoleskreenbufferinfo**](getconsolescreenbufferinfo.md) -Funktion verwenden, um die aktuelle Cursorposition zu bestimmen, und die [**SetConsoleCursorPosition**](setconsolecursorposition.md) -Funktion, um die Cursorposition festzulegen.</span><span class="sxs-lookup"><span data-stu-id="3422c-126">Alternatively, an application can use the [**GetConsoleScreenBufferInfo**](getconsolescreenbufferinfo.md) function to determine the current cursor position and the [**SetConsoleCursorPosition**](setconsolecursorposition.md) function to set the cursor position.</span></span> <span data-ttu-id="3422c-127">Der Mechanismus für **virtuelle Terminal Sequenzen** wird jedoch für alle neuen und laufenden Entwicklungen bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="3422c-127">However, the **virtual terminal sequences** mechanism is preferred for all new and ongoing development.</span></span> <span data-ttu-id="3422c-128">Weitere Informationen zu der Strategie, die dieser Entscheidung zugrunde liegt, finden Sie in der Dokumentation zu **[klassischen Funktionen im Vergleich zum virtuellen Terminal](classic-vs-vt.md)** und zur **[Ökosystem-Roadmap](ecosystem-roadmap.md)** .</span><span class="sxs-lookup"><span data-stu-id="3422c-128">More details on the strategy behind this decision can be found in the **[classic functions versus virtual terminal](classic-vs-vt.md)** and **[ecosystem roadmap](ecosystem-roadmap.md)** documentation.</span></span>

<span data-ttu-id="3422c-129">Ein Beispiel, in dem die e/a-Funktionen auf hoher Ebene verwendet werden, finden [Sie unter Verwenden der High-Level Eingabe-und Ausgabefunktionen](using-the-high-level-input-and-output-functions.md).</span><span class="sxs-lookup"><span data-stu-id="3422c-129">For an example that uses the high-level console I/O functions, see [Using the High-Level Input and Output Functions](using-the-high-level-input-and-output-functions.md).</span></span>